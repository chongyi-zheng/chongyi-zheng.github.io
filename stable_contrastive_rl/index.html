<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Stabilizing Contrastive RL: Techniques for Robotic Goal Reaching from Offline Data | Chongyi Zheng</title> <meta name="author" content="Chongyi Zheng"> <meta name="description" content=""> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/princeton.svg?2e8da7ab216364f60102077d93bdaaf9"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="chongyi-zheng.github.io/stable_contrastive_rl/"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Chongyi </span>Zheng</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching</a> </li> <li class="nav-item"> <a class="nav-link" href="https://scholar.google.com/citations?user=bezWXYcAAAAJ" rel="external nofollow noopener" target="_blank">publications</a> </li> <li class="nav-item"><a class="nav-link" href="https://github.com/chongyi-zheng" title="Github" rel="external nofollow noopener" target="_blank"><i class="fab fa-github"></i></a></li> <li class="nav-item"><a class="nav-link" href="https://twitter.com/chongyiz1" title="Twitter" rel="external nofollow noopener" target="_blank"><i class="fab fa-twitter"></i></a></li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Stabilizing Contrastive RL: Techniques for Robotic Goal Reaching from Offline Data</h1> <p class="post-description"></p> </header> <article> <p></p> <center> <a href="https://chongyi-zheng.github.io/" rel="external nofollow noopener" target="_blank">Chongyi Zheng</a>,   <a href="https://ben-eysenbach.github.io/" rel="external nofollow noopener" target="_blank">Benjamin Eysenbach</a>,   <a href="https://homerwalke.com/" rel="external nofollow noopener" target="_blank">Homer Walke</a>,   <a href="https://patrickyin.me/" rel="external nofollow noopener" target="_blank">Patrick Yin</a>,   <a href="https://kuanfang.github.io/" rel="external nofollow noopener" target="_blank">Kuan Fang</a>, <br> <a href="https://www.cs.cmu.edu/~rsalakhu/" rel="external nofollow noopener" target="_blank">Ruslan Salakhutdinov</a>,   <a href="https://people.eecs.berkeley.edu/~svlevine/" rel="external nofollow noopener" target="_blank">Sergey Levine</a> </center> <p></p> <center><b><a href="https://arxiv.org/abs/2306.03346" style="font-size: 20px" rel="external nofollow noopener" target="_blank">Paper</a>,   <a href="https://github.com/chongyi-zheng/stable_contrastive_rl" style="font-size: 20px" rel="external nofollow noopener" target="_blank">Code</a></b></center> <p align="center"> <br> <img src="../assets/papers/stable_contrastive_rl/images/arch_diagram.png" width="90%"> </p> <p><em><strong>Abstract</strong></em>: Robotic systems that rely primarily on self-supervised learning have the potential to decrease the amount of human annotation and engineering effort required to learn control strategies. In the same way that prior robotic systems have leveraged self-supervised techniques from computer vision (CV) and natural language processing (NLP), our work builds on prior work showing that the reinforcement learning (RL) itself can be cast as a self-supervised problem: learning to reach any goal without human-specified rewards or labels. Despite the seeming appeal, little (if any) prior work has demonstrated how self-supervised RL methods can be practically deployed on robotic systems. By first studying a challenging simulated version of this task, we discover design decisions about architectures and hyperparameters that increase the success rate by 2x. These findings lay the groundwork for our main result: we demonstrate that a self-supervised RL algorithm based on contrastive learning can solve real-world, image-based robotic manipulation tasks, with tasks being specified by a single goal image provided after training.</p> <h3 id="evaluation-on-real-manipulation-tasks">Evaluation on Real Manipulation Tasks</h3> <p>Below, we show examples of the behavior learned by stable contrastive RL and baselines, GC-IQL and GCBC, on the real manipulation tasks. All the methods successfully solves the simplest tasks “reach the eggplant”, while stable contrastive RL achives 60% success rates on the other two tasks where baselines fail. Note that our method casts reinforcement learning as a self-supervised problem, without using any reward function and successfully solving multi-stage goal-conditioned control tasks.</p> <p><strong>TASK:</strong> Pick the red spoon and place it on the left of the pot.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_spoon-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_spoon-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_spoon-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_spoon.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/iql_pick_and_place_spoon.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GC-IQL</figcaption> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/gcbc_pick_and_place_spoon.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GCBC</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_pick_and_place_spoon.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> <p><strong>TASK:</strong> Push the can to the wall.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_can-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_can-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_can-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_push_can.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/iql_push_can.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GC-IQL</figcaption> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/gcbc_push_can.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GCBC</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_push_can.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> <p><strong>TASK:</strong> Reach the eggplant on the table.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_reach_eggplant-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_reach_eggplant-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_reach_eggplant-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_reach_eggplant.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/iql_reach_eggplant.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GC-IQL</figcaption> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/gcbc_reach_eggplant.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GCBC</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_reach_eggplant.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> <h3 id="evaluation-on-simulated-manipulation-tasks">Evaluation on Simulated Manipulation Tasks</h3> <p>We also visualize examples of the behavior learned by stable contrastive RL and the same baselines on the simulated manipulation tasks. Stable contrastive RL is able to solve multi-stage goal-conditioned control tasks, while baselines complete single stage or fail to complete the tasks.</p> <p><strong>TASK:</strong> Pick the green object in the drawer, place it in the tray, and then close the drawer.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_drawer-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_drawer-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_drawer-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_drawer.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/iql_pick_and_place_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GC-IQL</figcaption> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/gcbc_pick_and_place_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GCBC</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_pick_and_place_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> <p><strong>TASK:</strong> Push the orange block on the table and then open the drawer.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_block_open_drawer-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_block_open_drawer-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_block_open_drawer-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_push_block_open_drawer.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/iql_push_block_open_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GC-IQL</figcaption> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/gcbc_push_block_open_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GCBC</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_push_block_open_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> <p><strong>TASK:</strong> Pick the green object on the table and place it in the tray.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_table-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_table-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_table-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_pick_and_place_table.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/iql_pick_and_place_table.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GC-IQL</figcaption> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/gcbc_pick_and_place_table.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GCBC</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_pick_and_place_table.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> <p><strong>TASK:</strong> Close the drawer.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_drawer-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_drawer-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_drawer-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_drawer.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/iql_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GC-IQL</figcaption> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/gcbc_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">GCBC</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> <h3 id="failure-cases">Failure Cases</h3> <p>For the task below, the agent tries to push the orange block, but fails to close the drawer.</p> <p><strong>TASK:</strong> Push the orange block on the table and then close the drawer.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_block_close_drawer-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_block_close_drawer-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/papers/stable_contrastive_rl/images/goal_push_block_close_drawer-1400.webp"></source> <img src="/assets/papers/stable_contrastive_rl/images/goal_push_block_close_drawer.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Goal</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/papers/stable_contrastive_rl/videos/stable_contrastive_rl_push_block_close_drawer.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""></video> <figcaption class="caption">Stable Contrastive RL (Ours)</figcaption> </figure> </div> </div> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2024 Chongyi Zheng. <span style="float:right;"> Last updated: October 11, 2024. </span> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>